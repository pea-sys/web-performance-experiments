# ホストに最適な DNS サーバを選択する

DNS サーバはルーター以外にも、公開 DNS サーバーがいくつかあり、
その目的もパフォーマンス向上であったり、セキュリティレベルを上げるためであったり、様々です。
ここでは、パフォーマンスの観点で最適な DNS サーバを選択する方法を試します。

その前に有名らしい公開 DNS サーバーについていくつか予習をしておきます。

## [GooglePublicDNS]

Google が提供する DNS サーバです。
Google の検索エンジンは毎日ウェブをクロールしており、その過程で DNS 情報を解決してキャッシュに保存するので、キャッシュのヒット率が高くなり、パフォーマンス悪化要因である DNS ルックアップを減らせることがメリットとして挙げられています。

https://developers.google.com/speed/public-dns/docs/intro

## [CloudFlare]

ここ最近、WebRTC で有名な時雨堂の方がよく Twitter で呟いているのを目にする。サーバー公開は 2018 年とかなり新しい。セキュアで速度も速いと評判。

[手順]

- 1.今回、速度比較を行いたいので DNS BenchMark で測定します。
  [ここ](https://www.grc.com/dns/benchmark.htm)からダウンロードします。

* 2.ツールを起動して、Nameservers → RunBenchmark の順にクリック

* 3.少し待つと結果が表示されます。
  　　ルーターがもっとも近いので最も早いです。  
   続いて、ntt-ltd が早いです、日本最大級の ISP 事業者の法人向け dns サーバです。public dns サーバーの中では cloudflare が一番早かったです。ただ、試行タイミングによって異なるので何回か試してみると良いかもしれません。
  ![1](https://user-images.githubusercontent.com/49807271/194678563-8843f9b1-b6dd-4d5e-8f89-4308ebbeae6f.png)

* 4.ここで肩透かしですが、ルーターの設定で好みの DNS サーバーを設定しようとしましたが、私の使用している Speed Wifi Home では設定変更できませんでした。DNS サーバ設定可否はルーターによるようです。
